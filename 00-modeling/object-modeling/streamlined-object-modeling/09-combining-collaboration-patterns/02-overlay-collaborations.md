# OVERLAY COLLABORATIONS

An overlay collaboration involves an object acting as `different pattern players` in multiple collaborations.

EXAMPLE- In the nomination example, a `team member` acting as `different pattern players`:
- a `role` for a person
- a `member` of a group

## Actor - Specific Role - Role Definition

Domains that use qualifications to schedule resources gather required qualifications in `role definitions`.

EXAMPLE- A trucking company has trucks that can be configured to take on some number of the following delivery `roles`: non-food cargo, perishable food cargo, and non-perishable food cargo. The company creates scheduled cargo deliveries according to the delivery role types, and then assigns the actual cargo delivery to a truck with the appropriate delivery role.

## Actor - Fundamental Role - Subsequent Role

`Subsequent roles` appear in domains that include a context within a context. Nested contexts occur when a context of interactions includes a subset that requires additional information or qualifications for participation. A `subsequent role` captures the additional information required to participate in the more `specific context`.

This patten combines the `actor - role` collaboration with itself. The `fundamental role` represents the basic requirements for participation and is the parent to the `subsequent role` that contains the additional information required to participate in a specialized context. Use this pattern in a domain that offers different services to nested levels of memberships.

EXAMPLE- An airline `frequent flyer`(FundamentalRole) program requires a `member`(Actor) to travel 25,000 miles or more within a year to qualify for their elite services. `Elite frequent flyers`(SubsequentRole) can obtain free first-class up-grades and bonus miles for flights.

## Item Actor - Member Role - Group

Domains that describe things differently based on context require `items` to become `actors`. An `item actor` is a description that can have further descriptions for different contexts.

### Item Actor - Content Role - Container

> Member Role Example

A retailer keeps multiple `marketing descriptions` for each of its `products`. A `marketing description` can be reused in many `advertisements`.

The `marketing description` is the member role.

> Container Role Example

The retailer also groups its `products` into categories and has a professional shopper assign a `rank to each product` in a `product-category`.

The `product rank` is the container role.

## Composite Transaction – Composite Follow-Up Transaction

Domains tracking a sequence of events involving multiple things requires `composite follow-up` transactions. Just as a `composite transaction` records the individual interactions of many things, a `composite follow-up transaction` records the individual `follow-up events` for the many things in the original event.

This pattern combines the `composite transaction - line item` and `transaction - follow-up transaction` collaborations. Use this combination only when follow-up details are needed for each specific item in the original `composite transaction`.

Often, multiple follow-up events are required for a single composite event, and not all things handled in the original event are handled in each follow-up event. Together these explain why each `line item` in the original `composite transaction` has zero to many `follow-up line items`.

EXAMPLE- An `order` is followed by some number of shipments. When more than one unit of single product is ordered, it can be involved in multiple shipments to the same or different locations. Each shipment line item indicates the quantity shipped of the specific product, and collaboration rules prevent shipping more of the specific product than the quantity ordered.

## Item Assembly – Specific Assembly

`Item assemblies` appear in domains using templates to construct complex `structures`. An `item assembly` is a template whose `parts` are also templates or generic descriptions. `Specific assemblies` created from an `item assembly` contain parts created from `part` templates.

This pattern combines the `assembly - part` and `item - specific item` collaborations. As an `assembly`, the `item assembly` must have `parts`, and any structure created from it must have `parts` too. Use this combination when complex structures are created from common templates.

EXAMPLE- A proposal generation system constructs proposals by selecting chapters from a proposal template. Subchapters are then chosen based on the selected chapters. To ensure the latest versions are always incorporated into the proposal, it contains references to chapters and subchapters, rather than copies of their text. The "paper" proposal is a report generated by extracting the text from the chapters and subchapters referenced in the proposal object.

## Definite Generic – Transaction

Domains that allow generic descriptions to be used in events require `define generics`. A `definite generic` acts as the parent description for a set of specific things, and can itself be involved in interactions.  Typically, an event involving a `definite generic` is `followed by an event` involving one of its specific things.

This pattern combines the `item` pattern player in the `item - specific item` collaboration and the `specific item` in the `specific item - transaction` collaboration. The resulting pattern player, a `definite generic`, acts like a `generic` toward its child objects and like a `specific` that can interact in events. `Transactions` involving `definite generics` are object inheritable.

EXAMPLE- A `video title`(definite generic) can be reserved, and one of its `videotapes`(specific item) can later be `rented`(follow-up transaction) as a follow-up to the `reservation`(transaction).

## Plan – Plan Execution

`Plan executions` appear in domains that have templates for events. A `plan execution` records the details of an event described by a generic plan. Typically, the `plan` describes a regularly scheduled event, and a `plan execution` records the details of one such event.

This pattern combines the `item - specific item` and `transaction - specific item` collaborations.
A `specific item` is a `variation` of its item
A `plan execution` is one particular `run` of its `plan`. Since this `run` is also an event, the `plan execution` acts like a `transaction` involving a specific thing, the `plan` (Transaction - SpecificItem)

EXAMPLE- A bottling plant has production lines that can be configured with different `production plans`(Plan). Each plan describes the package size, line speed, and fill rate of the line configuration. A `production line execution`(Plan Execution) records the actual line speed and fill rates, and how much was produced during the run.

## Process– Process Execution

Domains involving extensive or configurable workflows require `process executions`. A workflow is an ordered sequence of events. Simple, non-configurable workflows can be handled by successions of events, but when the chain of events is very lengthy or can be re-ordered, then it becomes necessary to model the sequence as a series of steps.

This pattern combines the `plan - plan execution` pattern and the `assembly - part` collaboration. A `process` is an `assembly` because, unlike a `plan`, which is a single intended action, a `process` is made up of an ordered sequence of actions. Like a `plan`, a `process` can run over and over again, and each run is modeled as a child execution; however, each `process execution` is itself made up of step executions for some or all of the steps within the parent `process`.

EXAMPLE- A construction company has multiple procurement processes for each type of component in procures during a project. When a specific construction component is to be procured, one of its type's processes is selected to generate a procurement schedule with the various steps needed to request, approve, and create purchases for that component.

## Membership Plan – Membership - Actor

`Membership plans` appear in domains where the enrollment of a person or thing in the system is tracked as history and governed by terms laid out in a `plan`, typically one `plan` of many. A `membership` `records` the details of an individual's participation, such as when the person or thing enrolled, the membership status, and the membership privileges. The `membership` object inherits the enrollment terms from its `membership plan`, including the length of the membership, fees, discount policies, and renewal methods.

This pattern combines the `plan - plan execution` pattern and `actor - role` collaboration.
As a `role`, the `membership` and its `transactions` describe the `actor`'s participation in the system;
As a `plan execution`, the `membership` is one particular `run` of the `membership plan`, with a creation timestamp and usually an expiration date.

EXAMPLE- An online application offers expert information and accredited training videos for credit to certified professionals who enroll as subscribers to the site. Individuals who join by responding to a promotion are enrolled under the `subscription plan` associated with the promotion. Persons may renew as subscribers under the same or a different subscription plan.

## Parent - Parameterized Child

`Parameterized children` appear in domains where a thing can be described in multiple ways. Usually a thing is tightly bound to its description, but a `parameterized child` can be assigned to one or more descriptions, such like assigning a person or thing to one or more groups. Any interaction of the thing with other objects requires first specifying which description applies. Choosing a description is often modeled as distinct event, followed by the interaction involving the thing. Without that interaction tying it to a choice of a description, the thing cannot respond to certain requests for information; thus, many requests to the thing require a parameter to help disambiguate which description applies.

This pattern combines the `group - member`, `item - specific item`, `transaction - specific item`, and `transaction - follow-up transaction` collaborations. The `group - member` and `item - specific item` combination models the assignment of multiple descriptions to the `parameterized child`, and the nature of the `parameterized child` as a specialization of its descriptions. These combinations, along with the transaction collaborations, model the selection of a particular item as the relevant description and the follow-up interaction of one of its child objects.
